{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 41,
  "summary": "Build a simple playable solitaire game deployed to the user's personal canister, including a dark theme UI.",
  "architectural_notes": [
    "Drag-and-drop should validate drop targets; if drop is not on a valid stack location, the dragged card/run must revert to its pre-drag position/state.",
    "Foundation (upper four slots) stacked/overlapped rendering must preserve correct z-index/positioning and draggable top-card visibility when moving cards; moving a stacked foundation card should not unmount or visually hide it.",
    "Dragging a tableau stack/run (or a card with cards underneath) and dropping onto a valid stack location must correctly transfer the run; no cards should disappear. Ensure drag/drop move logic and rendering preserve card identity and pile membership for multi-card moves.",
    "Define a \"move\" as a successful drag-and-drop that results in a valid state change; do not count simple clicks/taps or stock-to-waste draws / deck cycling as moves.",
    "Add per-playthrough stats persistence: record completion time and move count at game end and store in two separate ranked lists (time asc, moves asc), likely persisted in canister storage across sessions.",
    "Waste pile rendering should display only the most recent (top) waste card in a single-stack position during normal play; avoid any multi-card 3-overlap/fan presentation on draw.",
    "Add a New Game preflight prompt to opt into Timer and/or Move Tracking independently; persist the user’s \"ask again\" preference and provide a reversible UI control to re-enable prompting after selecting \"No Thanks\".",
    "Modal prompts (e.g., New Game Timer/Move Tracking prompt) must be user-dismissible via an upper-right “X” without requiring any option selection; dismissal should leave preferences unchanged.",
    "Empty tableau columns must remain valid drop targets after the last card is moved away (e.g., to foundation); the empty pile/placeholder should still accept valid tableau drops per Klondike rules (typically Kings / King-led runs)."
  ],
  "known_issues": [
    "Bug: Dragging some cards/runs and releasing them outside a valid drop target can leave them not stacked and not reverted to their original location.",
    "Bug: Moving a card from the upper four foundation slots after cards are visually stacked/overlapped can cause the dragged/moved card to disappear entirely.",
    "Bug: Dragging a stack/run (or a card with subsequent cards underneath) onto an otherwise valid stackable tableau location can cause the dragged card(s) to disappear instead of being placed.",
    "UI issue: Stock-to-waste draws can render up to three overlapping waste cards; desired behavior is a single-stack display showing only the topmost waste card.",
    "Bug: After moving the last remaining (single) card from a tableau column to a foundation pile, the now-empty tableau space becomes unusable as a drop target to start a new descending stack (empty tableau column not accepting valid moves)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-single-page-klondike-solitaire-game-ui-that-is-immediately-playable-in-the-browser-including-tableau-foundation-stock-waste-and-a-visible-card-back-front-design",
      "title": "Create a single-page Klondike Solitaire game UI that is immediately playable in the browser, including tableau, foundation, stock, waste, and a visible card back/front design.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-core-klondike-solitaire-rules-and-interactions-deal-a-standard-52-card-deck-into-the-tableau-1-7-with-top-card-face-up-allow-drawing-from-stock-to-waste-allow-moving-cards-piles-between-tableau-according-to-alternating-color-and-descending-rank-and-allow-moving-cards-to-foundation-by-ascending-rank-and-matching-suit",
      "title": "Implement core Klondike Solitaire rules and interactions: deal a standard 52-card deck into the tableau (1..7 with top card face-up), allow drawing from stock to waste, allow moving cards/piles between tableau according to alternating color and descending rank, and allow moving cards to foundation by ascending rank and matching suit.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-add-basic-game-controls-new-game-undo-at-least-one-step-undo-and-an-optional-hint-that-highlights-a-valid-move-without-auto-playing-it",
      "title": "Add basic game controls: New Game, Undo (at least one-step undo), and an optional Hint that highlights a valid move without auto-playing it.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-clear-win-complete-detection-all-foundations-to-king-and-display-a-win-state-with-an-option-to-start-a-new-game",
      "title": "Provide clear win/complete detection (all foundations to King) and display a win state with an option to start a new game.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-coherent-dark-theme-visual-style-across-the-entire-ui-using-a-consistent-palette-typography-spacing-and-component-styling-avoid-blue-purple-as-the-primary-accents",
      "title": "Implement a coherent dark theme visual style across the entire UI, using a consistent palette, typography, spacing, and component styling (avoid blue/purple as the primary accents).",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-solitaire-game-layout-is-responsive-and-usable-on-common-desktop-and-mobile-viewport-sizes-including-touch-friendly-interactions-for-moving-cards",
      "title": "Ensure the Solitaire game layout is responsive and usable on common desktop and mobile viewport sizes, including touch-friendly interactions for moving cards.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-change-the-waste-pile-ui-so-that-when-drawing-from-stock-newly-drawn-cards-visually-stack-overlap-on-top-of-previous-waste-cards-instead-of-causing-the-waste-pile-to-grow-downward-as-more-cards-are-drawn-the-topmost-most-recently-drawn-waste-card-must-remain-the-interactive-card-for-selection-moves-and-hint-highlighting",
      "title": "Change the waste pile UI so that when drawing from stock, newly drawn cards visually stack/overlap on top of previous waste cards (instead of causing the waste pile to grow downward as more cards are drawn). The topmost (most recently drawn) waste card must remain the interactive card for selection, moves, and hint highlighting.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-refine-the-waste-pile-visual-stacking-so-the-horizontal-overlap-offset-is-capped-to-a-maximum-of-1-space-newly-drawn-waste-cards-should-appear-essentially-in-the-same-position-and-visually-cover-the-previous-waste-card-no-growing-horizontal-fan-the-topmost-most-recently-drawn-waste-card-must-remain-the-only-interactive-hoverable-clickable-card-for-selection-moves-and-hint-highlighting",
      "title": "Refine the waste pile visual stacking so the horizontal overlap offset is capped to a maximum of 1 space: newly drawn waste cards should appear essentially in the same position and visually cover the previous waste card (no growing horizontal fan). The topmost (most recently drawn) waste card must remain the only interactive/hoverable/clickable card for selection, moves, and hint highlighting.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-add-click-and-drag-drag-and-drop-interactions-so-players-can-move-cards-and-valid-face-up-runs-by-dragging-from-the-waste-or-tableau-and-dropping-onto-a-tableau-pile-using-the-existing-klondike-rule-descending-rank-with-alternating-red-black-colors-suit-is-irrelevant-for-tableau-stacking",
      "title": "Add click-and-drag (drag-and-drop) interactions so players can move cards (and valid face-up runs) by dragging from the waste or tableau and dropping onto a tableau pile, using the existing Klondike rule: descending rank with alternating red/black colors (suit is irrelevant for tableau stacking).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-add-click-and-drag-drag-and-drop-interactions-so-players-can-move-a-single-card-by-dragging-from-the-waste-tableau-or-foundation-and-dropping-onto-one-of-the-four-foundation-piles-using-the-existing-klondike-rule-same-suit-only-ascending-rank-starting-from-ace-color-alternation-is-irrelevant-for-foundation-stacking",
      "title": "Add click-and-drag (drag-and-drop) interactions so players can move a single card by dragging from the waste, tableau, or foundation and dropping onto one of the four foundation piles, using the existing Klondike rule: same suit only, ascending rank starting from Ace (color alternation is irrelevant for foundation stacking).",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-adjust-the-tableau-7-piles-horizontal-layout-so-the-seven-tableau-stacks-are-spaced-outward-horizontally-to-match-the-spacing-alignment-of-the-four-foundation-suit-slots-above-while-remaining-responsive-on-smaller-viewports",
      "title": "Adjust the tableau (7 piles) horizontal layout so the seven tableau stacks are spaced outward horizontally to match the spacing/alignment of the four foundation (suit) slots above, while remaining responsive on smaller viewports.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-change-the-foundation-pile-visual-stacking-so-that-when-a-correctly-ascending-suit-card-is-added-to-a-foundation-the-newly-placed-card-visually-covers-overlaps-the-previous-lower-card-no-visible-fanned-vertical-growth-of-the-foundation-pile-only-the-topmost-foundation-card-should-remain-the-primary-interactive-draggable-card",
      "title": "Change the foundation pile visual stacking so that when a correctly ascending suit card is added to a foundation, the newly placed card visually covers/overlaps the previous lower card (no visible fanned/vertical growth of the foundation pile). Only the topmost foundation card should remain the primary interactive/draggable card.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-that-when-a-card-waste-foundation-or-a-face-up-run-tableau-is-dragged-but-not-dropped-onto-a-valid-drop-target-the-game-state-and-ui-fully-revert-to-the-pre-drag-state-i-e-the-dragged-cards-remain-in-their-original-pile-and-do-not-appear-stranded-misaligned",
      "title": "Ensure that when a card (waste/foundation) or a face-up run (tableau) is dragged but not dropped onto a valid drop target, the game state and UI fully revert to the pre-drag state (i.e., the dragged cards remain in their original pile and do not appear stranded/misaligned).",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-when-a-drag-is-dropped-onto-a-tableau-foundation-drop-zone-but-the-move-is-invalid-by-klondike-rules-treat-it-as-a-canceled-drop-do-not-change-state-and-ensure-the-dragged-card-s-visually-remain-in-their-original-pile-no-disappearing-or-stranded-rendering",
      "title": "When a drag is dropped onto a tableau/foundation drop zone but the move is invalid by Klondike rules, treat it as a canceled drop: do not change state, and ensure the dragged card(s) visually remain in their original pile (no disappearing or stranded rendering).",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-investigate-and-fix-the-bug-where-dragging-moving-the-top-card-from-one-of-the-four-foundation-piles-after-the-foundation-has-multiple-cards-stacked-overlapped-can-cause-the-dragged-moved-card-to-disappear-from-the-ui",
      "title": "Investigate and fix the bug where dragging/moving the top card from one of the four foundation piles (after the foundation has multiple cards stacked/overlapped) can cause the dragged/moved card to disappear from the UI.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-harden-foundation-pile-rendering-so-react-reconciliation-cannot-incorrectly-unmount-lose-the-rendered-card-when-the-foundation-top-card-changes-during-a-move-e-g-ensure-stable-card-identity-based-keys-for-rendered-cards-where-applicable-including-foundation-top-card-rendering",
      "title": "Harden foundation pile rendering so React reconciliation cannot incorrectly unmount/lose the rendered card when the foundation top card changes during a move (e.g., ensure stable, card-identity-based keys for rendered cards where applicable, including foundation top-card rendering).",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-make-all-cards-in-the-four-foundation-piles-upper-slots-permanently-non-interactive-locked-players-must-not-be-able-to-select-click-or-drag-cards-from-foundations-after-they-are-placed-there-while-still-allowing-valid-drops-onto-foundations-from-the-waste-tableau",
      "title": "Make all cards in the four foundation piles (upper slots) permanently non-interactive (“locked”): players must not be able to select, click, or drag cards from foundations after they are placed there, while still allowing valid drops onto foundations from the waste/tableau.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-small-visual-locked-affordance-state-to-foundation-top-cards-to-make-it-clear-they-cannot-be-interacted-with-without-changing-the-overall-dark-theme-and-ensure-hover-active-styling-does-not-imply-interactivity-for-foundation-cards",
      "title": "Add a small visual “locked” affordance/state to foundation top cards to make it clear they cannot be interacted with (without changing the overall dark theme), and ensure hover/active styling does not imply interactivity for foundation cards.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-drag-and-drop-behavior-so-that-dragging-a-tableau-run-a-face-up-card-with-subsequent-cards-underneath-it-can-be-dropped-onto-a-valid-tableau-stack-and-the-moving-run-is-correctly-placed-without-any-cards-disappearing",
      "title": "Fix the drag-and-drop behavior so that dragging a tableau run (a face-up card with subsequent cards underneath it) can be dropped onto a valid tableau stack, and the moving run is correctly placed without any cards disappearing.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-small-game-timer-ui-element-positioned-in-the-upper-right-corner-of-the-game-page-that-displays-elapsed-time-in-hours-minutes-and-full-seconds-only-formatted-as-hh-mm-ss-the-timer-must-start-at-00-00-00-when-a-new-game-begins-and-update-once-per-second",
      "title": "Add a small game timer UI element positioned in the upper-right corner of the game page that displays elapsed time in hours, minutes, and full seconds only (formatted as HH:MM:SS). The timer must start at 00:00:00 when a new game begins and update once per second.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-move-counter-to-the-solitaire-game-state-that-increments-only-when-a-drag-and-drop-action-results-in-a-valid-successful-move-i-e-the-dropped-card-s-are-actually-placed-onto-a-tableau-or-foundation-pile-and-the-game-state-changes-the-move-counter-must-not-increment-for-click-based-moves-selections-and-must-not-increment-for-stock-to-waste-draws-or-stock-resets-shuffles",
      "title": "Add a move counter to the Solitaire game state that increments only when a drag-and-drop action results in a valid, successful move (i.e., the dropped card(s) are actually placed onto a tableau or foundation pile and the game state changes). The move counter must not increment for click-based moves/selections, and must not increment for stock-to-waste draws or stock resets/shuffles.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-display-the-current-move-counter-in-the-ui-as-english-text-e-g-moves-0-in-a-location-consistent-with-the-existing-timer-ui-visible-on-desktop-near-the-upper-right-header-area-and-visible-on-mobile-in-the-controls-timer-area",
      "title": "Display the current move counter in the UI as English text (e.g., \"Moves: 0\") in a location consistent with the existing timer UI: visible on desktop near the upper-right header area and visible on mobile in the controls/timer area.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-move-counter-behaves-sensibly-with-undo-and-new-game-new-game-resets-the-counter-to-0-and-undo-restores-the-prior-move-counter-value-for-the-undone-action-i-e-undoing-a-counted-drag-and-drop-move-decreases-restores-the-counter-accordingly-while-undoing-a-draw-does-not-affect-the-move-counter",
      "title": "Ensure the move counter behaves sensibly with Undo and New Game: New Game resets the counter to 0, and Undo restores the prior move counter value for the undone action (i.e., undoing a counted drag-and-drop move decreases/restores the counter accordingly, while undoing a draw does not affect the move counter).",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-record-a-completed-playthrough-result-when-and-only-when-the-user-wins-a-game-capturing-both-a-elapsed-time-in-seconds-from-the-game-timer-and-b-the-current-drag-move-counter-value-for-that-playthrough",
      "title": "Record a completed-playthrough result when (and only when) the user wins a game, capturing both (a) elapsed time in seconds from the game timer and (b) the current drag-move counter value for that playthrough.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-the-history-of-recorded-playthrough-results-on-the-client-so-the-results-remain-available-across-page-reloads-e-g-using-localstorage-and-load-the-persisted-results-on-app-start",
      "title": "Persist the history of recorded playthrough results on the client so the results remain available across page reloads (e.g., using localStorage), and load the persisted results on app start.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-compile-and-display-two-separate-ranked-lists-derived-from-the-recorded-playthrough-results-1-best-times-ranked-by-lower-completion-time-first-and-2-best-moves-ranked-by-fewer-moves-first-each-list-entry-must-show-both-the-primary-metric-and-the-other-metric-for-that-same-playthrough-e-g-a-time-ranked-entry-also-shows-its-moves",
      "title": "Compile and display two separate ranked lists derived from the recorded playthrough results: (1) Best Times ranked by lower completion time first, and (2) Best Moves ranked by fewer moves first. Each list entry must show both the primary metric and the other metric for that same playthrough (e.g., a time-ranked entry also shows its moves).",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-win-ui-so-that-when-the-win-dialog-is-shown-it-includes-the-current-playthrough-s-completion-time-and-moves-plus-the-two-ranked-lists-best-times-and-best-moves-in-the-same-dialog-or-immediately-adjacent-ui-section-using-english-labels",
      "title": "Update the win UI so that, when the win dialog is shown, it includes the current playthrough’s completion time and moves, plus the two ranked lists (Best Times and Best Moves) in the same dialog or immediately adjacent UI section, using English labels.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-control-button-labeled-scores-positioned-next-to-the-existing-hint-button-in-the-main-game-controls-bar-and-wire-it-to-open-the-score-listing",
      "title": "Add a new control button labeled \"Scores\" positioned next to the existing \"Hint\" button in the main game controls bar, and wire it to open the score listing.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-score-listing-as-a-user-closeable-pop-up-window-modal-dialog-that-displays-the-same-saved-leaderboard-data-currently-used-for-win-results-best-times-and-best-moves-and-can-be-opened-at-any-time-during-gameplay",
      "title": "Implement the score listing as a user-closeable pop-up window (modal/dialog) that displays the same saved leaderboard data currently used for win results (Best Times and Best Moves) and can be opened at any time during gameplay.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-change-the-leaderboard-section-heading-text-from-best-moves-to-least-moves-everywhere-it-appears-in-the-ui-including-both-the-scores-modal-and-the-win-dialog-leaderboard-section",
      "title": "Change the leaderboard section heading text from \"Best Moves\" to \"Least Moves\" everywhere it appears in the UI, including both the Scores modal and the Win dialog leaderboard section.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-stock-to-waste-draw-ui-so-the-waste-pile-renders-as-a-single-stack-display-only-the-most-recently-drawn-top-waste-card-is-visible-and-no-additional-older-waste-cards-are-rendered-overlapped-i-e-remove-the-current-up-to-3-visible-waste-cards-behavior",
      "title": "Update the stock-to-waste draw UI so the waste pile renders as a single-stack display: only the most recently drawn (top) waste card is visible, and no additional older waste cards are rendered/overlapped (i.e., remove the current up-to-3 visible waste cards behavior).",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-game-name-to-simple-solitaire-across-all-user-visible-locations-in-the-ui-including-the-main-in-app-header-title-on-the-solitaire-page",
      "title": "Update the game name to \"Simple Solitaire\" across all user-visible locations in the UI, including the main in-app header title on the Solitaire page.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-browser-tab-page-title-to-simple-solitaire-by-changing-the-html-document-title-in-frontend-index-html",
      "title": "Update the browser tab/page title to \"Simple Solitaire\" by changing the HTML document <title> in frontend/index.html.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-when-the-user-starts-a-new-game-via-the-new-game-control-button-and-via-the-play-again-button-in-the-win-dialog-conditionally-show-a-modal-prompt-that-asks-whether-they-want-1-the-game-timer-enabled-and-2-move-tracking-enabled-as-two-separate-options",
      "title": "When the user starts a new game (via the \"New Game\" control button and via the \"Play Again\" button in the win dialog), conditionally show a modal prompt that asks whether they want (1) the game timer enabled and (2) move tracking enabled as two separate options.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-ask-again-preference-to-the-new-game-prompt-that-controls-whether-the-prompt-appears-on-future-new-games-and-persist-this-preference-client-side-so-it-is-remembered-across-page-reloads",
      "title": "Add an \"Ask Again?\" preference to the New Game prompt that controls whether the prompt appears on future new games, and persist this preference client-side so it is remembered across page reloads.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-persist-the-user-s-timer-and-move-tracking-choices-client-side-and-apply-them-to-gameplay-timer-choice-must-control-whether-elapsed-time-is-tracked-displayed-move-tracking-choice-must-control-whether-the-move-counter-increments",
      "title": "Persist the user's Timer and Move Tracking choices client-side and apply them to gameplay: Timer choice must control whether elapsed time is tracked/displayed; Move Tracking choice must control whether the move counter increments.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-no-thanks-do-not-ask-again-state-reversible-via-explicit-user-input-by-providing-an-in-app-ui-entry-point-that-allows-the-user-to-re-enable-ask-again-and-adjust-timer-move-tracking-preferences",
      "title": "Make the \"No Thanks\" (do not ask again) state reversible via explicit user input by providing an in-app UI entry point that allows the user to re-enable \"Ask Again?\" and adjust Timer/Move Tracking preferences.",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-win-result-recording-and-leaderboard-behavior-remains-stable-when-timer-and-or-move-tracking-are-disabled-without-breaking-the-win-dialog-or-scores-dialog",
      "title": "Ensure win-result recording and leaderboard behavior remains stable when Timer and/or Move Tracking are disabled, without breaking the win dialog or Scores dialog.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-new-game-preferences-modal-dialog-so-it-can-be-dismissed-via-a-top-right-x-close-control-and-standard-dialog-dismissal-like-esc-clicking-outside-if-supported-by-the-dialog-component-without-requiring-the-user-to-select-any-options-or-click-start-game",
      "title": "Update the \"New Game Preferences\" modal dialog so it can be dismissed via a top-right \"X\" close control (and standard dialog dismissal like ESC / clicking outside, if supported by the dialog component) without requiring the user to select any options or click \"Start Game\".",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-the-new-game-preferences-dialog-to-support-controlled-open-close-behavior-from-the-parent-page-so-the-dialog-can-close-when-the-user-clicks-the-top-right-x-and-ensure-the-dialog-s-option-state-resets-appropriately-on-reopen-based-on-the-current-default-preference-props",
      "title": "Wire the New Game Preferences dialog to support controlled open/close behavior from the parent page (so the dialog can close when the user clicks the top-right X), and ensure the dialog's option state resets appropriately on reopen based on the current default preference props.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-bug-where-after-the-last-remaining-card-is-moved-out-of-a-tableau-column-e-g-the-first-tableau-pile-that-started-as-a-single-card-into-a-foundation-pile-the-now-empty-tableau-space-is-not-usable-as-a-drop-target-to-start-a-new-descending-stack-empty-tableau-columns-must-continue-to-render-a-visible-drop-zone-and-accept-valid-drag-and-drop-moves-e-g-dropping-a-king-or-king-led-run-according-to-existing-klondike-rules",
      "title": "Fix the bug where, after the last remaining card is moved out of a tableau column (e.g., the first tableau pile that started as a single card) into a foundation pile, the now-empty tableau space is not usable as a drop target to start a new descending stack. Empty tableau columns must continue to render a visible drop zone and accept valid drag-and-drop moves (e.g., dropping a King or King-led run) according to existing Klondike rules.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-foundation-suit-space-locked-behavior-so-foundation-piles-can-be-used-as-move-sources-again-via-click-to-select-and-drag-and-drop-while-still-enforcing-existing-klondike-move-rules",
      "title": "Remove the foundation (suit space) \"locked\" behavior so foundation piles can be used as move sources again (via click-to-select and drag-and-drop), while still enforcing existing Klondike move rules.",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-visual-lock-affordance-and-disabled-styling-from-foundation-top-cards-so-foundation-cards-look-and-behave-like-normal-interactive-cards-when-they-are-draggable-selectable",
      "title": "Remove the visual lock affordance and disabled styling from foundation top cards, so foundation cards look and behave like normal interactive cards when they are draggable/selectable.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-hint-behavior-to-include-legal-moves-from-foundation-piles-e-g-foundation-top-card-to-a-valid-tableau-pile-since-foundations-are-no-longer-locked",
      "title": "Update the Hint behavior to include legal moves FROM foundation piles (e.g., foundation top card to a valid tableau pile), since foundations are no longer locked.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Create a playable solitaire game deployed in the user's personal canister",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Include a dark theme for the solitaire game's UI",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Change stock-to-waste draw behavior so newly drawn cards stack/overlap on top of previous waste cards instead of dropping downward each draw",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Refine waste pile stacking so the overlap offset is capped at 1 space and each newly drawn waste card covers the previous card (minimal/near-zero visible spacing)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Enable click-and-drag (drag-and-drop) card movement for tableau stacking (alternating red/black, descending rank) and foundation stacking (same suit, ascending from Ace)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Adjust layout spacing so the 7 tableau stacks are spaced outward horizontally to match the spacing of the foundation (suit) slots above",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Change foundation pile visual stacking so newly placed ascending suit cards cover/overlap the previous lower card (instead of showing a fanned stack)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Ensure drag cancellation and invalid drops never strand or hide cards when dragging tableau runs: if a tableau run is dropped outside a drop zone or onto a tableau drop zone where the move is invalid, the UI and game state must fully revert to the pre-drag state with no missing cards.",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Add a small game timer in the upper-right corner showing hours, minutes, and full seconds",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Add a move counter that increments only on successful drag-and-drop moves (exclude clicks and stock/deck shuffles) and display it in the UI",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Track and store per-playthrough results in two separate ranked categories: best (lowest) completion time and best (fewest) moves, and maintain/display a compiled list for each category",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Add a \"Scores\" option next to \"Hint\" that opens the score listing in a user-closeable pop-up window/modal",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Change the leaderboard heading text from \"Best Moves\" to \"Least Moves\" (Scores modal and win dialog/adjacent score UI)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Update stock-to-waste draw UI so only a single top waste card is visibly stacked/shown (no multi-card 3-overlap/fan) when drawing new cards",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "On New Game, prompt user to enable Timer and/or Move Tracking (two separate options) with a remembered preference via an \"Ask Again?\" checkbox; allow disabling future prompts via \"No Thanks\" and make that state reversible via user input",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Allow users to close/dismiss open modal boxes (e.g., the New Game Timer/Move Tracking prompt) via an upper-right “X” without selecting any options",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "2d",
  "projectName": "Simple Solitaire",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}